{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raahu\\\\Desktop\\\\google-meet-clone\\\\client\\\\src\\\\components\\\\VideoGrid.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport './VideoGrid.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoGrid = ({\n  stream,\n  userVideo,\n  peers,\n  userId,\n  userName,\n  isScreenSharing,\n  videoEnabled\n}) => {\n  _s();\n  // Use a single ref object for all peer videos\n  const peerVideos = useRef({});\n\n  // Calculate grid layout\n  const totalParticipants = Object.keys(peers).length + 1; // +1 for self\n  let gridClass = 'video-grid';\n  if (totalParticipants <= 1) {\n    gridClass += ' single';\n  } else if (totalParticipants <= 4) {\n    gridClass += ' grid-2';\n  } else if (totalParticipants <= 9) {\n    gridClass += ' grid-3';\n  } else {\n    gridClass += ' grid-4';\n  }\n  useEffect(() => {\n    // Set the stream for each peer video\n    Object.keys(peers).forEach(peerId => {\n      const videoElement = peerVideos.current[peerId];\n      if (videoElement && peers[peerId].peer && peers[peerId].peer.stream) {\n        videoElement.srcObject = peers[peerId].peer.stream;\n      }\n    });\n  }, [peers]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: gridClass,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: userVideo,\n        autoPlay: true,\n        playsInline: true,\n        muted: true,\n        className: !videoEnabled ? 'video-off' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), !videoEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-placeholder\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar\",\n          children: userName.charAt(0).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name-tag\",\n        children: [userName, \" \", isScreenSharing && '(Screen)']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), Object.keys(peers).map(peerId => {\n      const peerName = peers[peerId].userName;\n      const isVideoEnabled = !(peers[peerId].isVideoEnabled === false);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: el => peerVideos.current[peerId] = el,\n          autoPlay: true,\n          playsInline: true,\n          className: !isVideoEnabled ? 'video-off' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), !isVideoEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-placeholder\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar\",\n            children: peerName.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name-tag\",\n          children: [peerName, \" \", peers[peerId].isScreenSharing && '(Screen)']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), peers[peerId].isAudioEnabled === false && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"muted-indicator\",\n          children: \"\\uD83D\\uDD07\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this)]\n      }, peerId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoGrid, \"ppTjIkKG2rMvaTLwZDUXHjYZQsA=\");\n_c = VideoGrid;\nexport default VideoGrid;\nvar _c;\n$RefreshReg$(_c, \"VideoGrid\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","VideoGrid","stream","userVideo","peers","userId","userName","isScreenSharing","videoEnabled","_s","peerVideos","totalParticipants","Object","keys","length","gridClass","forEach","peerId","videoElement","current","peer","srcObject","className","children","ref","autoPlay","playsInline","muted","fileName","_jsxFileName","lineNumber","columnNumber","charAt","toUpperCase","map","peerName","isVideoEnabled","el","isAudioEnabled","_c","$RefreshReg$"],"sources":["C:/Users/raahu/Desktop/google-meet-clone/client/src/components/VideoGrid.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport './VideoGrid.css';\n\nconst VideoGrid = ({ stream, userVideo, peers, userId, userName, isScreenSharing, videoEnabled }) => {\n  // Use a single ref object for all peer videos\n  const peerVideos = useRef({});\n\n  // Calculate grid layout\n  const totalParticipants = Object.keys(peers).length + 1; // +1 for self\n  let gridClass = 'video-grid';\n  \n  if (totalParticipants <= 1) {\n    gridClass += ' single';\n  } else if (totalParticipants <= 4) {\n    gridClass += ' grid-2';\n  } else if (totalParticipants <= 9) {\n    gridClass += ' grid-3';\n  } else {\n    gridClass += ' grid-4';\n  }\n\n  useEffect(() => {\n    // Set the stream for each peer video\n    Object.keys(peers).forEach(peerId => {\n      const videoElement = peerVideos.current[peerId];\n      if (videoElement && peers[peerId].peer && peers[peerId].peer.stream) {\n        videoElement.srcObject = peers[peerId].peer.stream;\n      }\n    });\n  }, [peers]);\n\n  return (\n    <div className={gridClass}>\n      {/* Local user video */}\n      <div className=\"video-container\">\n        <video \n          ref={userVideo} \n          autoPlay \n          playsInline \n          muted \n          className={!videoEnabled ? 'video-off' : ''}\n        />\n        {!videoEnabled && (\n          <div className=\"video-placeholder\">\n            <div className=\"avatar\">{userName.charAt(0).toUpperCase()}</div>\n          </div>\n        )}\n        <div className=\"name-tag\">\n          {userName} {isScreenSharing && '(Screen)'}\n        </div>\n      </div>\n      \n      {/* Remote peer videos */}\n      {Object.keys(peers).map((peerId) => {\n        const peerName = peers[peerId].userName;\n        const isVideoEnabled = !(peers[peerId].isVideoEnabled === false);\n        \n        return (\n          <div className=\"video-container\" key={peerId}>\n            <video \n              ref={el => peerVideos.current[peerId] = el} \n              autoPlay \n              playsInline \n              className={!isVideoEnabled ? 'video-off' : ''}\n            />\n            {!isVideoEnabled && (\n              <div className=\"video-placeholder\">\n                <div className=\"avatar\">{peerName.charAt(0).toUpperCase()}</div>\n              </div>\n            )}\n            <div className=\"name-tag\">\n              {peerName} {peers[peerId].isScreenSharing && '(Screen)'}\n            </div>\n            {peers[peerId].isAudioEnabled === false && (\n              <div className=\"muted-indicator\">ðŸ”‡</div>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default VideoGrid;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}