{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raahu\\\\Desktop\\\\google-meet-clone\\\\client\\\\src\\\\components\\\\VideoGrid.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport './VideoGrid.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoGrid = ({\n  stream,\n  userVideo,\n  peers,\n  userId,\n  userName,\n  isScreenSharing,\n  videoEnabled\n}) => {\n  _s();\n  // Use a single ref object for all peer videos\n  const peerVideos = useRef({});\n\n  // Calculate grid layout\n  const totalParticipants = Object.keys(peers).length + 1; // +1 for self\n  let gridClass = 'video-grid';\n  if (totalParticipants <= 1) {\n    gridClass += ' single';\n  } else if (totalParticipants <= 4) {\n    gridClass += ' grid-2';\n  } else if (totalParticipants <= 9) {\n    gridClass += ' grid-3';\n  } else {\n    gridClass += ' grid-4';\n  }\n  useEffect(() => {\n    Object.values(peerVideos).forEach(videoRef => {\n      if (stream && videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    });\n  }, [stream]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: gridClass,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: userVideo,\n        autoPlay: true,\n        playsInline: true,\n        muted: true,\n        className: !videoEnabled ? 'video-off' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), !videoEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-placeholder\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar\",\n          children: userName.charAt(0).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name-tag\",\n        children: [userName, \" \", isScreenSharing && '(Screen)']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), Object.keys(peers).map(peerId => {\n      const peerName = peers[peerId].userName;\n      const isVideoEnabled = !(peers[peerId].isVideoEnabled === false);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: peerVideos[peerId],\n          autoPlay: true,\n          playsInline: true,\n          className: !isVideoEnabled ? 'video-off' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), !isVideoEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-placeholder\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar\",\n            children: peerName.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name-tag\",\n          children: [peerName, \" \", peers[peerId].isScreenSharing && '(Screen)']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), peers[peerId].isAudioEnabled === false && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"muted-indicator\",\n          children: \"\\uD83D\\uDD07\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, peerId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoGrid, \"ppTjIkKG2rMvaTLwZDUXHjYZQsA=\");\n_c = VideoGrid;\nexport default VideoGrid;\nvar _c;\n$RefreshReg$(_c, \"VideoGrid\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","VideoGrid","stream","userVideo","peers","userId","userName","isScreenSharing","videoEnabled","_s","peerVideos","totalParticipants","Object","keys","length","gridClass","values","forEach","videoRef","current","srcObject","className","children","ref","autoPlay","playsInline","muted","fileName","_jsxFileName","lineNumber","columnNumber","charAt","toUpperCase","map","peerId","peerName","isVideoEnabled","isAudioEnabled","_c","$RefreshReg$"],"sources":["C:/Users/raahu/Desktop/google-meet-clone/client/src/components/VideoGrid.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport './VideoGrid.css';\n\nconst VideoGrid = ({ stream, userVideo, peers, userId, userName, isScreenSharing, videoEnabled }) => {\n  // Use a single ref object for all peer videos\n  const peerVideos = useRef({});\n\n  // Calculate grid layout\n  const totalParticipants = Object.keys(peers).length + 1; // +1 for self\n  let gridClass = 'video-grid';\n  \n  if (totalParticipants <= 1) {\n    gridClass += ' single';\n  } else if (totalParticipants <= 4) {\n    gridClass += ' grid-2';\n  } else if (totalParticipants <= 9) {\n    gridClass += ' grid-3';\n  } else {\n    gridClass += ' grid-4';\n  }\n\n  useEffect(() => {\n    Object.values(peerVideos).forEach((videoRef) => {\n      if (stream && videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n    });\n  }, [stream]);\n\n  return (\n    <div className={gridClass}>\n      {/* Local user video */}\n      <div className=\"video-container\">\n        <video \n          ref={userVideo} \n          autoPlay \n          playsInline \n          muted \n          className={!videoEnabled ? 'video-off' : ''}\n        />\n        {!videoEnabled && (\n          <div className=\"video-placeholder\">\n            <div className=\"avatar\">{userName.charAt(0).toUpperCase()}</div>\n          </div>\n        )}\n        <div className=\"name-tag\">\n          {userName} {isScreenSharing && '(Screen)'}\n        </div>\n      </div>\n      \n      {/* Remote peer videos */}\n      {Object.keys(peers).map((peerId) => {\n        const peerName = peers[peerId].userName;\n        const isVideoEnabled = !(peers[peerId].isVideoEnabled === false);\n        \n        return (\n          <div className=\"video-container\" key={peerId}>\n            <video \n              ref={peerVideos[peerId]} \n              autoPlay \n              playsInline \n              className={!isVideoEnabled ? 'video-off' : ''}\n            />\n            {!isVideoEnabled && (\n              <div className=\"video-placeholder\">\n                <div className=\"avatar\">{peerName.charAt(0).toUpperCase()}</div>\n              </div>\n            )}\n            <div className=\"name-tag\">\n              {peerName} {peers[peerId].isScreenSharing && '(Screen)'}\n            </div>\n            {peers[peerId].isAudioEnabled === false && (\n              <div className=\"muted-indicator\">ðŸ”‡</div>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default VideoGrid;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}